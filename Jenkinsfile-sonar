
pipeline{
    agent any
    tools{
        maven 'maven_3.8.6'
    }
    stages{
        stage ('Build'){
          steps{
              sh 'mvn clean install'
                echo "Sonar check"
              } 
          }
        stage ('Sonarqube analysis'){
          steps{
              echo "Sonar check"
              sh 'mvn clean verify sonar:sonar -Dsonar.projectKey=Java-test-sonarqube -Dsonar.projectName='Java-test-sonarqube''
               
              } 
          }
    }
}
